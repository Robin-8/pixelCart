<!DOCTYPE HTML>
<html>

<head>
	<title>Footwear - Free Bootstrap 4 Template by Colorlib</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

	<link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,500,600,700" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Rokkitt:100,300,400,700" rel="stylesheet">

	<!-- Animate.css -->
	<link rel="stylesheet" href="/css/animate.css">
	<!-- Icomoon Icon Fonts-->
	<link rel="stylesheet" href="/css/icomoon.css">
	<!-- Ion Icon Fonts-->
	<link rel="stylesheet" href="/css/ionicons.min.css">
	<!-- Bootstrap  -->
	<link rel="stylesheet" href="/css/bootstrap.min.css">

	<!-- Magnific Popup -->
	<link rel="stylesheet" href="/css/magnific-popup.css">

	<!-- Flexslider  -->
	<link rel="stylesheet" href="/css/flexslider.css">

	<!-- Owl Carousel -->
	<link rel="stylesheet" href="/css/owl.carousel.min.css">
	<link rel="stylesheet" href="/css/owl.theme.default.min.css">

	<!-- Date Picker -->
	<link rel="stylesheet" href="/css/bootstrap-datepicker.css">
	<!-- Flaticons  -->
	<link rel="stylesheet" href="/fonts/flaticon/font/flaticon.css">

	<!-- Theme style  -->
	<link rel="stylesheet" href="/css/style.css">

     <style>
            .table th, .table td {
            padding: 2.75rem;
            vertical-align: top;
            border-top: 1px solid #dee2e6;
            }


    .table-spacing th,
    .table-spacing td {
        padding-left: 80px; /* Adjust the value as needed for the desired spacing */
    }
    .pagination {
display: flex;
justify-content: center;
align-items: center;
margin-top: 20px;
}

.pagination button {
background-color: #f5f5f5;
border: 1px solid #ccc;
padding: 6px 12px;
margin: 0 3px;
cursor: pointer;

transition: background-color 0.3s, color 0.3s;
}

.pagination button.active {
background-color: #007bff;
color: #fff;
border-color: #007bff;
}

.pagination button:hover {
background-color: #ddd;
}

</style>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>


<body>

	<!-- <div class="colorlib-loader"></div> -->

	<div id="page">
		<nav class="colorlib-nav" role="navigation">
			<div class="top-menu">
				<div class="container">
					<div class="row">
						<div class="col-sm-7 col-md-9">
							<div id="colorlib-logo"><a href="index.html">Camera Shutter</a></div>
						</div>
						<div class="col-sm-5 col-md-3">
							<form action="#" class="search-wrap">
								<div class="form-group">
									<input type="search" class="form-control search" placeholder="Search">
									<button class="btn btn-primary submit-search text-center" type="submit"><i
											class="icon-search"></i></button>
								</div>
							</form>
						</div>
					</div>
					<div class="row">
						<div class="col-sm-12 text-left menu-1">
							<ul>
								<li class="active"><a href="/">Home</a></li>
								<li><a href="/">Products</a></li>
								<li><a href="/userDetails">User Profile</a></li>
								<li class="cart"><a href="/carts"><i class="icon-shopping-cart"></i> Cart</a></li>
								<li class="cart"><a href="/logout"><i class="icon-switch"></i> Logout</a></li>

							</ul>

						</div>
					</div>
				</div>
			</div>


			<section>

				 <div class="container">
        <table class="table table-striped mt-5">
            <thead>
                <tr>
                    <th scope="col">Time</th>
                    <th scope="col">Price</th>
                    <th>Status</th>
                    <th>Payment</th>
					<th>Name</th>
					<th>Images</th>
                    <th>Cancel</th>
                </tr>
            </thead>
            <tbody>
                {{#each orders}}
                <tr>
                    <td>{{formatDate this.createdOn}}</td>
                    <td>{{this.totalPrice}}</td>
                    <td>{{this.status}}</td>
                    <td>{{this.payment}}</td>
					<td>{{this.productDetails.[0].Name}}</td>
					<td> 
                         <img src="/product-images/{{this.productDetails.[0].Images.[0]}}" alt="{{this.product.Name}}" style="max-width: 60px; max-height: 60px;">
                         </td>
                    <td>
     
                      <button class="btn btn-danger" onclick="cancelOrder('{{this._id}}')">Cancel</button>


                       
                    </td>
                </tr>
                {{/each}}
            </tbody>
        </table>

        {{#if totalpages}}
        <div class="pagination">
            {{#if (gt currentpage 1)}}
            <button><a href="?page={{sub currentpage 1}}">Previous</a></button>
            {{/if}}
            {{#each pages}}
            <button><a href="?page={{this}}">{{this}}</a></button>
            {{/each}}
            {{#if (lt currentpage totalpages)}}
            <button><a href="?page={{add currentpage 1}}">Next</a></button>
            {{/if}}
        </div>
        {{/if}}
    </div>
			</section>

<script>
  function cancelOrder(orderId) {
    $.ajax({
      url: `/cancel-order?id=${orderId}`,
      method: 'GET',
      success: function (response) {
        if (response.status) {
          location.reload()
        }
      }
    });
  }
</script>


			